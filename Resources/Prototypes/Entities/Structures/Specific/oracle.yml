# SPDX-FileCopyrightText: 2023 Colin-Tel
# SPDX-FileCopyrightText: 2023 Debug
# SPDX-FileCopyrightText: 2024 DEATHB4DEFEAT
# SPDX-FileCopyrightText: 2024 FoxxoTrystan
# SPDX-FileCopyrightText: 2024 Mnemotechnican
# SPDX-FileCopyrightText: 2024 Rane
# SPDX-FileCopyrightText: 2024 ShatteredSwords
# SPDX-FileCopyrightText: 2025 Raikyr0
# SPDX-FileCopyrightText: 2025 Rosycup
# SPDX-FileCopyrightText: 2025 VMSolidus
# SPDX-FileCopyrightText: 2025 sleepyyapril
#
# SPDX-License-Identifier: MIT AND AGPL-3.0-or-later

- type: entity
  parent: [BaseStructure, BaseObjectVerbsCuteness] # DEN: Add interaction verb parent
  id: Oracle
  name: Oracle
  description: She asks for items in exchange for knowledge. No one knows how she works.
  components:
  - type: Sprite
    noRot: true
    drawdepth: Mobs
    offset: "0.0,0.5"
    sprite: _DV/Structures/Decoration/statues.rsi
    layers:
      - state: oracle-0
      - map: ["enum.SolutionContainerLayers.Fill"]
        state: oracle-0
  - type: Speech
    speechSounds: Tenor
  - type: Actions
  - type: Psionic
    removable: false
    roller: false
    assayFeedback:
      - oracle-feedback
    psychognomicDescriptors:
      - p-descriptor-old
      - p-descriptor-demiurgic
      - p-descriptor-mysterious
      - p-descriptor-emanative
  - type: InnatePsionicPowers
    powersToAdd:
      - XenoglossyPower
      - TelepathyPower
      - NoosphericZapPower
  - type: SolutionContainerManager
    solutions:
      fountain:
        maxVol: 200
  - type: Drink
    solution: fountain
  - type: DrawableSolution
    solution: fountain
  - type: DrainableSolution
    solution: fountain
  - type: ExaminableSolution
    solution: fountain
  - type: Appearance
  - type: SolutionContainerVisuals
    maxFillLevels: 10
    fillBaseName: oracle-
  - type: Grammar
    attributes:
      gender: female
      proper: true
  - type: Prayable
  - type: SpriteFade
  - type: Tag
    tags: []
  - type: Oracle
    demandTypes: OracleDemandTypes
    rewardReagents: OracleRewardReagents
    rewardEntities:
    - OracleRewardDisks
    - OracleRewardCrystals
  - type: LanguageSpeaker
    currentLanguage: TauCetiBasic
  - type: LanguageKnowledge
    speaks:
    - TauCetiBasic
    understands:
    - TauCetiBasic
  - type: GuideHelp
    guides: [ Psionics ]


- type: weightedRandomEntity
  id: OracleRewardDisks
  weights:
    ResearchDisk10000: 20
    ResearchDisk20000: 10
    ResearchDisk50000: 1

- type: weightedRandomEntity
  id: OracleRewardCrystals
  weights:
    MaterialBluespace1: 3
    MaterialBluespace3: 10
    MaterialBluespace5: 2

- type: weightedRandom
  id: OracleRewardReagents
  weights:
    LotophagoiOil: 7
    Ichor: 2
    Wine: 1.2
    MnemolithReagent: 0.4 # TheDen
    Blood: 0.8

- type: weightedRandom
  id: OracleDemandTypes
  weights:
    tech: 3
    plant: 1 # Plants are very annoying to procure most of the time
