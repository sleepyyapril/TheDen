# SPDX-FileCopyrightText: 2025 Jakumba
# SPDX-FileCopyrightText: 2025 William Lemon
# SPDX-FileCopyrightText: 2025 eightballll
# SPDX-FileCopyrightText: 2025 sleepyyapril
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  abstract: true
  parent: BaseObjective
  id: BaseSkiaObjective
  components:
  - type: Objective
    # difficulty isn't used at all since objective are fixed
    difficulty: 1.5
    issuer: The Lords of the End of Time.
  - type: RoleRequirement
    roles:
      mindRoles:
      - SkiaRole


- type: entity
  parent: [BaseSkiaObjective, TeachLessonRandomPersonObjective]
  id: SkiaReapObjective
  categories: [ HideSpawnMenu ]
  name: Reap the damned soul.
  description: Ensure this soul is released from its body at least once.
  components:
  - type: Objective
    difficulty: 1
    unique: false
    icon:
      sprite: Mobs/Ghosts/ghost_human.rsi
      state: icon
  - type: TargetObjective
    title: objective-condition-reap-soul-title
  - type: RerollAfterCompletion
    rerollObjectivePrototype: SkiaReapObjective
    rerollObjectiveMessage: objective-condition-reap-soul-reroll-message

- type: entity
  categories: [ HideSpawnMenu ]
  parent: [BaseSkiaObjective, BaseSurviveObjective]
  id: SkiaSurviveObjective
  name: Survive
  description: You have to remain manifested to cut the strands of fate.
  components:
  - type: Objective
    icon:
      sprite: _DV/Mobs/Animals/skia.rsi
      state: dead
