# SPDX-FileCopyrightText: 2023 Colin-Tel
# SPDX-FileCopyrightText: 2023 Fluffiest Floofers
# SPDX-FileCopyrightText: 2023 Tad "Taddy" Johnson
# SPDX-FileCopyrightText: 2024 Debug
# SPDX-FileCopyrightText: 2024 Rane
# SPDX-FileCopyrightText: 2025 Jakumba
# SPDX-FileCopyrightText: 2025 Rosycup
# SPDX-FileCopyrightText: 2025 Skubman
# SPDX-FileCopyrightText: 2025 sleepyyapril
#
# SPDX-License-Identifier: MIT AND AGPL-3.0-or-later

- type: entity
  parent: [ClothingBeltStorageBase, BaseMantisContraband] # If Epistemics needs their own belts, it should be a different item, really
  id: ClothingBeltMantis
  name: dated mantis belt # TheDen
  description: "A structured, layered sash designed to carry mantis equipment. All the company would pay for prior to the mantis equipment refresh, but it does have sheaths for certain weapons." # TheDen
  components:
  - type: Sprite
    sprite: Nyanotrasen/Clothing/Belt/mantis_belt.rsi
  - type: Clothing
    sprite: Nyanotrasen/Clothing/Belt/mantis_belt.rsi
  - type: Storage # TheDen
    maxItemSize: Large
    grid:
    - 0,0,9,1
    whitelist:
      tags:
        - Folder
        - Document
        - Write
        - HandLabeler
        - Flashlight
        - Syringe # TheDen
        - Bottle # TheDen
        - PillCanister # TheDen
        - Pill # TheDen
        - Flash # TheDen
        - ScienceTool # TheDen
        - MantisBeltStorable # TheDen - Only to be used for mantis-specific items
        # - ForensicBeltEquip # TheDen - The old name of the mantis belt's whitelist tag, now made more clear
        # - Sidearm # TheDen - Only tagged mantis weapons will fit inside
      # components: # TheDen - Doing it this way makes these items fit only if you click them onto the belt sprite itself...
        # - AnomalyScanner
        # - NodeScanner
        # - Flash
  - type: Appearance # TheDen - It has a sheath for MantisMeleeKnife or MantisMeleeCane (MantisMeleeFist is worn like a glove, and MantisMeleeGreatsword is intentionally excluded)
  - type: ContainerContainer # TheDen - The rest of this item is our code
    containers:
      storagebase: !type:Container
        ents: []
      mantisknife: !type:ContainerSlot {}
      mantissickle: !type:ContainerSlot {}
      mantiscane: !type:ContainerSlot {}
  - type: ItemSlots
    slots:
      mantisknife:
        name: clothing-belt-mantisknife
        insertVerbText: sheath-insert-verb
        ejectVerbText: sheath-eject-verb
        insertSound: /Audio/Items/sheath.ogg
        ejectSound: /Audio/Items/unsheath.ogg
        whitelist:
          tags:
          - MantisKnife
        priority: 3
      mantissickle:
        name: clothing-belt-mantissickle
        insertVerbText: sheath-insert-verb
        ejectVerbText: sheath-eject-verb
        insertSound: /Audio/Items/sheath.ogg
        ejectSound: /Audio/Items/unsheath.ogg
        whitelist:
          tags:
          - MantisSickle
        priority: 3
      mantiscane:
        name: clothing-belt-mantiscane
        insertVerbText: sheath-insert-verb
        ejectVerbText: sheath-eject-verb
        insertSound: /Audio/Items/sheath.ogg
        ejectSound: /Audio/Items/unsheath.ogg
        whitelist:
          tags:
          - MantisCane
        priority: 3
  - type: ItemMapper
    mapLayers:
      mantisknife:
        whitelist:
          tags:
          - MantisKnife
      mantissickle:
        whitelist:
          tags:
          - MantisSickle
      mantiscane:
        whitelist:
          tags:
          - MantisCane
    sprite: _DEN/Clothing/Belt/belt_overlay.rsi
  - type: Tag
    tags:
    - WhitelistChameleon
  - type: GuideHelp
    guides: [ MantisGuide ]

- type: entity
  parent: ClothingBeltBase
  id: ClothingBeltMartialBlack
  name: black belt
  description: This is the most martial of all the belts.
  components:
  - type: MeleeWeapon
    attackRate: 1.25
    range: 1.65
    damage:
      types:
        Blunt: 1
        Slash: 1
  - type: Item
    size: Small
  - type: Sprite
    sprite: Nyanotrasen/Clothing/Belt/Martial/black.rsi
  - type: Clothing
    sprite: Nyanotrasen/Clothing/Belt/Martial/black.rsi

- type: entity
  parent: ClothingBeltBase # DeltaV - reparent from ClothingBeltStorageBase
  id: ClothingBeltKatanaSheath
  name: katana sheaths
  description: An ornate belt designed to hold a pair of samurai's blades, or daisho.
  components:
  - type: Sprite
    sprite: Nyanotrasen/Clothing/Belt/katanasheath.rsi
    state: sheath
  - type: Clothing
    sprite: Nyanotrasen/Clothing/Belt/katanasheath.rsi
  - type: ItemSlots # DeltaV - adjust how objects are stored
    slots:
      katanaslot:
        name: clothing-belt-katana
        insertVerbText: sheath-insert-verb
        ejectVerbText: sheath-eject-verb
        insertSound: /Audio/Items/sheath.ogg
        ejectSound: /Audio/Items/unsheath.ogg
        whitelist:
          tags:
          - Katana
        priority: 2
      wakizashislot:
        name: clothing-belt-wakizashi
        insertVerbText: sheath-insert-verb
        ejectVerbText: sheath-eject-verb
        insertSound: /Audio/Items/sheath.ogg
        ejectSound: /Audio/Items/unsheath.ogg
        whitelist:
          tags:
          - Wakizashi
        priority: 1
  - type: ItemMapper # DeltaV - adjust how stored objects are displayed
    mapLayers:
      katana:
        whitelist:
          tags:
          - Katana
      wakizashi:
        whitelist:
          tags:
          - Wakizashi
    sprite: DeltaV/Clothing/Belt/belt_overlay.rsi
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []
      katanaslot: !type:ContainerSlot {}
      wakizashislot: !type:ContainerSlot {}
  - type: Appearance
  - type: Tag
    tags:
    - BeltSlotNotBelt

- type: entity
  parent: [ BaseGrandTheftContraband, ClothingBeltStorageBase ]
  id: ClothingBeltMilitaryWebbingCMO
  name: chief medical officer's chest rig
  description: A medical chest rig with deep pockets, for use by paramedics and health professionals.
  components:
  - type: Sprite
    sprite: Nyanotrasen/Clothing/Belt/cmowebbing.rsi
  - type: Clothing
    sprite: Nyanotrasen/Clothing/Belt/cmowebbing.rsi
  - type: Item
    size: Large
  - type: Storage
    maxItemSize: Normal
    grid:
      - 0,0,6,2
  - type: Tag
    tags:
      - BeltSlotNotBelt
  - type: ItemSlots
    slots:
      medkit:
        name: clothing-belt-medkit
        whitelist:
          tags:
          - Medkit
          - Portafib
          - Compactdefib #Den change
          - Rollerbed
        insertOnInteract: true
  - type: ItemMapper # DeltaV - add stowed medkit sprite
    mapLayers:
      medkit:
        whitelist:
          tags:
          - Medkit
    sprite: _DV/Clothing/Belt/belt_overlay.rsi
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []
      medkit: !type:ContainerSlot {}
  - type: Appearance # DeltaV
