# SPDX-FileCopyrightText: 2025 ElusiveCoin
# SPDX-FileCopyrightText: 2025 Jakumba
# SPDX-FileCopyrightText: 2025 MajorMoth
# SPDX-FileCopyrightText: 2025 Rosycup
# SPDX-FileCopyrightText: 2025 Tabitha
# SPDX-FileCopyrightText: 2025 TheOneTrueWolfio
# SPDX-FileCopyrightText: 2025 foxcurl
# SPDX-FileCopyrightText: 2025 juniwoofs
# SPDX-FileCopyrightText: 2025 portfiend
# SPDX-FileCopyrightText: 2025 sheepie
# SPDX-FileCopyrightText: 2025 sleepyyapril
#
# SPDX-License-Identifier: AGPL-3.0-or-later AND MIT

- type: trait
  id: Heavyweight
  category: TraitsPhysicalBiological
  points: -2 # Has pros and cons, not sure
  requirements:
  - !type:CharacterJobRequirement
    inverted: true
    jobs:
      - StationAi
      - Borg
      - MedicalBorg
  - !type:CharacterTraitRequirement
    inverted: true
    traits:
    - Lightweight
    - UltraHeavyweight
    - UltraLightweight
  functions:
    - !type:TraitAddComponent
      components:
        - type: FixtureDensityModifier
          min: 100
          factor: 1.33

- type: trait
  id: UltraHeavyweight
  category: TraitsPhysicalBiological
  points: -4 # Has pros and cons, not sure
  requirements:
  - !type:CharacterJobRequirement
    inverted: true
    jobs:
      - StationAi
      - Borg
      - MedicalBorg
  - !type:CharacterTraitRequirement
    inverted: true
    traits:
    - Lightweight
    - Heavyweight
    - UltraLightweight
  functions:
    - !type:TraitAddComponent
      components:
        - type: FixtureDensityModifier
          min: 100
          factor: 2

- type: trait
  id: UltraLightweight
  category: TraitsPhysicalBiological
  points: 4 # Has pros and cons, not sure
  requirements:
  - !type:CharacterJobRequirement
    inverted: true
    jobs:
      - StationAi
      - Borg
      - MedicalBorg
  - !type:CharacterTraitRequirement
    inverted: true
    traits:
    - Heavyweight
    - UltraHeavyweight
    - Lightweight
  functions:
    - !type:TraitAddComponent
      components:
        - type: FixtureDensityModifier
          min: 100
          factor: 0.33

- type: trait
  id: ZeroGTraining
  category: TraitsPhysicalFeats
  points: -2 # Suggested value, tweak as appropriate
  requirements:
  - !type:CharacterJobRequirement
    inverted: true
    jobs:
      - StationAi
      - Borg
      - MedicalBorg
  - !type:CharacterSpeciesRequirement
    inverted: true
    species:
    - Moth
    - Harpy
    - Resomi #Species trait
  - !type:CharacterTraitRequirement
    inverted: true
    traits:
    - ZeroGAverse
    - WheelchairBound
  functions:
    - !type:TraitReplaceComponent
      components:
        - type: MovementSpeedModifier
          weightlessAcceleration: 2.5

- type: trait
  id: ZeroGAverse
  category: TraitsPhysicalDisabilities
  points: 2 # Suggested value, tweak as appropriate
  requirements:
  - !type:CharacterJobRequirement
    inverted: true
    jobs:
      - StationAi
      - Borg
      - MedicalBorg
  - !type:CharacterSpeciesRequirement
    inverted: true
    species:
    - Moth
    - Harpy
  - !type:CharacterTraitRequirement
    inverted: true
    traits:
    - ZeroGTraining
    - WheelchairBound
  functions:
    - !type:TraitReplaceComponent
      components:
        - type: MovementSpeedModifier
          weightlessAcceleration: 0.35

- type: trait
  id: TailWag
  category: TraitsPhysicalBiological
  points: 0
  slots: 0
  requirements:
  - !type:CharacterJobRequirement
    inverted: true
    jobs:
      - StationAi
      - Borg
      - MedicalBorg
  functions:
    - !type:TraitAddComponent
      components:
        - type: Wagging

- type: trait
  id: HealingFactor
  category: TraitsPhysicalBiological
  points: -6
  requirements:
    - !type:CharacterJobRequirement
      inverted: true
      jobs:
        - StationAi
        - Borg
        - MedicalBorg
    - !type:CharacterSpeciesRequirement
      inverted: true
      species:
        - IPC
    - !type:CharacterTraitRequirement
      inverted: true
      traits:
        - PlateletFactories
  functions:
    - !type:TraitReplaceComponent
      components:
        - type: PassiveDamage
          allowedStates:
          - Alive
          - Critical
          damageCap: 400
          damage:
            groups:
              Brute: -0.2
              Burn: -0.2
              Airloss: -0.3

- type: trait
  id: HandsFreePulling
  category: TraitsPhysicalBiological
  points: -10
  requirements:
    - !type:CharacterJobRequirement
      inverted: true
      jobs:
        - StationAi
        - Borg
        - MedicalBorg
    - !type:CharacterTraitRequirement
      inverted: true
      traits:
        - Bodybuilder
        - Weakling
    - !type:CharacterSpeciesRequirement
      inverted: true
      species:
        - Reptilian
  functions:
    - !type:TraitReplaceComponent
      components:
        - type: Puller
          needsHands: false

- type: trait
  id: FireResistance
  category: TraitsPhysicalAugmentations
  points: -8
  requirements:
    - !type:CharacterJobRequirement
      inverted: true
      jobs:
        - StationAi
        - Borg
        - MedicalBorg
    - !type:CharacterTraitRequirement
      inverted: true
      traits:
        - TemperatureTolerance
    - !type:CharacterSpeciesRequirement
      inverted: true
      species:
        - Plasmaman
        - IPC
        - Moth
  functions:
    - !type:TraitReplaceComponent
      components:
        - type: TemperatureProtection
          heatingCoefficient: 0.2 # slower heating rate
        - type: Flammable
          canResistFire: true
          minIgnitionTemperature: 600 # higher threshold for ignition, same threshold as for taking damage from overheating
          fireStackIncreaseMultiplier: 0.5 # less fire stacks gained
          firestackFade: -0.15 # slightly faster fade
          firestacksOnIgnite: 1 # ignition gives less fire stacks
          maximumFireStacks: 5 # less max fire stacks than normal
          damage:
            types:
              Heat: 1 # slightly heat damage
        - type: Temperature
          atmosTemperatureTransferEfficiency: 0.05
          heatDamageThreshold: 600 # higher threshold for actually taking damage. this would allow someone to confortably sit in a standard oven cranked to the highest temp.
          coldDamageThreshold: 0
          currentTemperature: 310.15
          specificHeat: 42
          coldDamage:
            types:
              Cold : 0.5 # more cold damage
          heatDamage:
            types:
              Heat : 1 # normal heat damage
        - type: TemperatureSpeed # more aggressive and earlier temp slowdown, and a higher maximum slowdown
          thresholds:
            300: 0.9
            295: 0.8
            290: 0.7
            285: 0.6
            280: 0.5
        - type: ThermalRegulator
          metabolismHeat: 800
          radiatedHeat: 100
          implicitHeatRegulation: 500
          sweatHeatRegulation: 20000 # increased max sweat amount which speeds up temperature regulation at high temps, or rather, stops it from slowing down
          shiveringHeatRegulation: 2000
          normalBodyTemperature: 310.15
          thermalRegulationTemperatureThreshold: 25
