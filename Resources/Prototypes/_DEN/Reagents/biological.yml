# SPDX-FileCopyrightText: 2025 portfiend
#
# SPDX-License-Identifier: AGPL-3.0-or-later

# "Intoxicating blood"
# Replacement for demons' blood for Arachne. I would've liked to keep the "demonic" flavor (e.g. by calling it
# "demonic blood" or "infernal blood" instead), but I felt it was more important to emphasize the alcohol part for
# consent reasons.

- type: reagent
  parent: [Blood, BaseAlcohol]
  id: IntoxicatingBlood
  name: reagent-name-intoxicating-blood
  group: Biological
  desc: reagent-desc-intoxicating-blood
  flavor: intoxicating
  color: "#7c0044"
  recognizable: true
  physicalDesc: reagent-physical-desc-alluring
  metabolisms:
    Drink:
      effects:
      # Specific to intoxicating blood: Alcoholic drink, as strong as vodka.
      - !type:AdjustReagent
        reagent: Ethanol
        amount: 0.25

      # Satiate thirst for all species except humans
      - !type:SatiateThirst
        factor: 0.5
        conditions:
        - !type:OrganType
          type: Human
          shouldHave: false

      # Vampire benefits
      - !type:SatiateHunger
        factor: 0.5
        conditions:
        - !type:OrganType
          type: Vampiric
      - !type:AdjustReagent
        conditions:
        - !type:OrganType
          type: Vampiric
        reagent: Water
        amount: 0.3
      - !type:AdjustReagent
        conditions:
        - !type:OrganType
          type: Vampiric
        reagent: Protein
        amount: 0.25
      - !type:AdjustReagent
        conditions:
        - !type:OrganType
          type: Vampiric
        reagent: Omnizine
        amount: 0.3

    Food:
      effects:
        # "Standard" metabolism for most species (non-blood drinkers)
        - !type:AdjustReagent
          reagent: UncookedAnimalProteins
          amount: 0.125 # 0.25 proteins for 1u of blood - restores 0.75 hunger, adds 0.25 blood per unit
          conditions:
          - !type:OrganType
            type: Vampiric
            shouldHave: false

    Medicine:
      # Medicinal effect for bloodsuckers
      effects:
      - !type:HealthChange
        conditions:
        - !type:OrganType
          type: Bloodsucker
        damage:
          groups:
            Brute: -3
            Burn: -1.25

# Red blood, except cooked through - does not add uncooked animal proteins
# (ergo, doesn't make humans sick), but it also still restores and regenerates vampiric characters.
#
# I am NOT adding a recipe to heat up blood to make cooked blood,
# because then blood would cook in peoples' bloodstreams when they overheat.
- type: reagent
  parent: Blood
  id: CookedBlood
  name: reagent-name-cooked-blood
  desc: reagent-desc-cooked-blood
  metabolisms:
    Drink:
      effects:
      - !type:SatiateThirst
        factor: 0.5
      - !type:SatiateHunger
        factor: 0.5
        conditions:
        - !type:OrganType
          type: Vampiric
      - !type:AdjustReagent
        conditions:
        - !type:OrganType
          type: Vampiric
        reagent: Water
        amount: 0.3
      - !type:AdjustReagent
        conditions:
        - !type:OrganType
          type: Vampiric
        reagent: Protein
        amount: 0.25 # See below
      - !type:AdjustReagent
        conditions:
        - !type:OrganType
          type: Vampiric
        reagent: Omnizine
        amount: 0.3
    Food:
      effects:
        - !type:AdjustReagent
          reagent: Protein # Instead of uncooked!
          amount: 0.125 # 0.25 proteins for 1u of blood - restores 0.75 hunger, adds 0.25 blood per unit
          conditions:
          - !type:OrganType
            type: Vampiric
            shouldHave: false
    Medicine:
      effects:
      - !type:HealthChange
        conditions:
        - !type:OrganType
          type: Bloodsucker
        damage:
          groups:
            Brute: -3
            Burn: -1.25
