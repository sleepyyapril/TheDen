# SPDX-FileCopyrightText: 2025 Shaman
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  parent: Jukebox
  id: SomberJukebox
  name: somber radio
  description: "A striped amaranth radio. You do not need an entire god damn jukebox in here. It would be tacky."
  components:
  - type: Sprite
    sprite: _DEN/Structures/Machines/somberjukebox.rsi
    snapCardinals: true
    noRot: true
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 300
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 75
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:SpawnEntitiesBehavior
        spawn:
          MaterialWoodPlank:
            min: 3
            max: 3
          ScrapElectrum:
            min: 1
            max: 3
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.21875,-0.0625,0.21875,0.21875"
        hard: false
        mask:
        - TabletopMachineMask
        layer:
        - TabletopMachineLayer
        density: 100
