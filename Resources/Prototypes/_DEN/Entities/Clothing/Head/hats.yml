# SPDX-FileCopyrightText: 2024 SleepyScarecrow
# SPDX-FileCopyrightText: 2025 Rosycup
# SPDX-FileCopyrightText: 2025 Skubman
# SPDX-FileCopyrightText: 2025 sleepyyapril
#
# SPDX-License-Identifier: MIT AND AGPL-3.0-or-later

- type: entity
  parent: ClothingHeadBase
  id: ClothingHeadHatFeatheredCap
  name: feathered cap
  description: A green cap, with a smooth, white feather placed within the rim. It makes you want to shoot a bow.
  components:
  - type: Sprite
    sprite: _DEN/Clothing/Head/Hats/featheredcap.rsi
  - type: Clothing
    sprite: _DEN/Clothing/Head/Hats/featheredcap.rsi

- type: entity
  parent: ClothingHeadBase
  id: ClothingHeadHatSeniorTrooper
  name: senior trooper hat
  description: A campaign hat for the Nanotrasen Troopers, comes with a case too, but you lost it.
  components:
  - type: Sprite
    sprite: _DEN/Clothing/Head/Hats/seniortrooperhat.rsi
  - type: Clothing
    sprite: _DEN/Clothing/Head/Hats/seniortrooperhat.rsi

- type: entity
  parent: ClothingHeadHeadHatBaseFlippable
  id: ClothingHeadHatPatrolCap
  name: patrol cap
  description: A slightly squared ballcap with a short brim.
  components:
  - type: Sprite
    sprite: _DEN/Clothing/Head/Hats/patrolcap.rsi
  - type: Clothing
    sprite: _DEN/Clothing/Head/Hats/patrolcap.rsi

- type: entity
  parent: [ClothingHeadHeadHatBaseFlipped, ClothingHeadHatOrangesoft]
  id: ClothingHeadHatPatrolCapFlipped
  name: patrol cap

- type: entity
  parent: ClothingHeadBase
  id: ClothingHeadHatAdminAssistant
  name: administrative assistant cap
  description: A command blue cap with an embossed bronze emblem. It makes you feel more important than the average paper pusher.
  components:
  - type: Sprite
    sprite: _DEN/Clothing/Head/Hats/aacap.rsi
  - type: Clothing
    sprite: _DEN/Clothing/Head/Hats/aacap.rsi

- type: entity
  parent: ClothingHeadHatBeret
  id: ClothingHeadHatBeretWhite
  components:
  - type: Sprite
    sprite: _DEN/Clothing/Head/Hats/beret_colorable.rsi
  - type: Clothing
    sprite: _DEN/Clothing/Head/Hats/beret_colorable.rsi

- type: entity
  parent: ClothingHeadHatBeret
  id: ClothingHeadHatParamedicBeret
  name: paramedic beret
  description: "A beret worn by emergency medical technicians and the like, adorned with a white cross."
  components:
  - type: Sprite
    sprite: _DEN/Clothing/Head/Hats/beret_paramedic.rsi
  - type: Clothing
    sprite: _DEN/Clothing/Head/Hats/beret_paramedic.rsi

# siren beret start
- type: entity
  parent: ClothingHeadBase
  id: ClothingHeadHatParamedicSirenBeret
  name: salvation shako
  description: "A noisy beret used to indicate a medical emergency response. Requires batteries. Not actually a shako."
  components:
  - type: Sprite
    sprite: _DEN/Clothing/Head/Hats/beret_paramedic_siren.rsi
    layers:
      - state: icon
      - state: icon-light
        visible: false
        shader: unshaded
        map: [ "light" ]
  - type: Appearance
  - type: Clothing
    sprite: _DEN/Clothing/Head/Hats/beret_paramedic_siren.rsi
    equippedPrefix: off
  - type: ItemToggle
    predictable: false
    onUse: false
    soundActivate:
      path: /Audio/Items/flashlight_on.ogg
    soundDeactivate:
      path: /Audio/Items/flashlight_off.ogg
    soundFailToActivate:
      path: /Audio/Machines/button.ogg
  - type: ItemToggleActiveSound
    activeSound:
      path: /Audio/_Impstation/Effects/Vehicle/ambulancesiren.ogg
      params:
        volume: -3
  - type: UseDelay
    delay: 1.0
  - type: ToggleClothing
    action: ActionToggleSalvationShako
  - type: ItemTogglePointLight
  - type: ToggleableVisuals
    spriteLayer: light
    clothingVisuals:
      head:
      - state: on-equipped-HELMET
  - type: PointLight
    enabled: false
    radius: 1.4
    energy: 2
    color: deepskyblue
    netsync: false
    mask: /Textures/Effects/LightMasks/double_cone.png
  - type: RotatingLight
    speed: 360
  - type: PowerCellSlot
    cellSlotId: cell_slot
  - type: ContainerContainer
    containers:
      cell_slot: !type:ContainerSlot
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default
        startingItem: PowerCellSmall
  - type: PowerCellDraw
    drawRate: 1
  - type: ToggleCellDraw

- type: entity
  parent: ClothingHeadHatParamedicSirenBeret
  id: ClothingHeadHatParamedicSirenBeretEmpty
  suffix: Empty
  components:
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default

- type: entity
  id: ActionToggleSalvationShako
  name: Toggle Salvation Shako
  description: Turn the siren on or off.
  components:
  - type: InstantAction
    itemIconStyle: BigItem
    event: !type:ToggleActionEvent
# siren beret end
